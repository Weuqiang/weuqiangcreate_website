# 

## compiler

AB

CCPUTypeScriptJavaScriptMarkdownHTML



### 



1. ****`lexical analyzer``scanner``tokenizer``token`
2. ****`token`AST**Parser**
3. **** AST`eslint`ASTAST
4. ****`Rust -> `/`Rust -> LLVM-IR``Java -> Java``TypeScript -> JavaScript``Babel`ASTTraverseAST****AST



C/C++GoRustCPUCPULLVM



### LLVM

LLVMLow Level Virtual Machine

**IRIntermediate Representation**RustRustLLVM IR****RustcLLVM****LLVM IRLLVM****LLVM IRLLVM IR



## Interpreter



### 

1. 
2. 
3. 
4. ****`eval``eval``eval``eval`

**AST**JavaJavaScriptAST****JavaScriptV8JavaScriptASTIgnition



CPUCPUCPUJavaScriptV8Python`node interpreter.js source.py`CPUV8V8`interpreter.js`CPU`source.py`CPU

- RustRustRust
- RustJavaScriptJavaScriptRustRustJavaScript
- JavaScriptPythonPythonJavaScriptJavaScriptPython





### 



JavaV8Ignition



#### Java

Java**JVMJava Virtual Machine**JavaJavaJavaJava

CPUJavaKotlin



#### JavaScript

JavaScript/V8ChromeNodeJSV8JavaJavaScriptASTASTV8IgnitionIgnition

V8JavaScriptV8IgnitionJavaScriptJVM



#### Just-In-Time Compilation

JavaJavaScript+V8IgnitionV8TurboFan





## 



### 

1. ` -> AST ->  `AST
2. LLVMRust` -> AST -> LLVM-IR`LLVM



### 

1. 
   1. AST` -> AST -> `
   2. ` -> AST ->  -> `
2. JavaHotSpot VMKotlin` -> AST -> Java`Java
3. V8JavaScript` -> AST -> JavaScript`TypeScript2





## 

Babel

BabelJavaScript/TypeScript

- `@babel/parser``babel``babylon``Acorn`JavaScript[estree](https://github.com/estree/estree)AST
- `@babel/traverse``@babel/parser`ASTVisitorAST
- `@babel/types``lodash``@babel/traverse`ASTAST
- `@babel/generator`ASTJavaScriptsourceMap
- `@babel/core`



:::info

`eslint``espree``Acorn``@babel/parser`TypeScript`espree`

`eslint``TS``eslint``@typescript-eslint/parser``@typescript-eslint/eslint-plugin``typescript`

:::

AST[AST](https://github.com/babel/babel/tree/main/packages/babel-types/src/definitions)VisitorBabel PluginPresets

``` javascript
import { parse } from "@babel/parser";
import _traverse from "@babel/traverse";
import _generator from '@babel/generator';
const traverse = _traverse.default;
const generator = _generator.default

const oldCode = `
    const a = () => {
        const b = async () => {
            return () => {

            }
        }    

        return {
            fn: b,
            fn2: () => {

            }
        }
    }
`
const ast = parse(oldCode, { sourceType: 'module'})
traverse(ast, {
    ArrowFunctionExpression(path) {
        path.node.type = 'FunctionExpression'
    }
})
const { code: newCode } = generator(ast)

```

``` javascript title=newCode
const a = function () {
  const b = async function () {
    return function () {};
  };

  return {
    fn: b,
    fn2: function () {}
  };
};
```





## 

[Babel Plugin-handbook](https://github.com/jamiebuilds/babel-handbook/blob/master/translations/en/plugin-handbook.md)





