---
sidebarDepth: 4
---
# 

## 

1. 
2. 
3. 100
4. 
5. 
6. lodashahooks





## React

1. PropsEqual

   ``` js
   const App = memo(App2, isEqual)
   
   <App list={[1, 2, 3]} />
   ```

2. `useSelector`shadowEqualisEqual

   ``` jsx
   function App() {
     useSelector(() => {
       // code
       return [1, 2, 3]
     }, shallowEqual)
   }
   ```

3. `useSelector``reselect`

4. `useContext``Provider``value``useContext`

   1. Context
   2. 
   3. useMemo





## 

- HTTP
  - CSS, JS, 
  - 
  - IntersectionObserver
  - HTTP CDN
- 
  - 
  - 
- 
  - table 
  - with, eval
- CSS
  - CSS3transform, opacity
  - DOM`display: none`DOM
  - `position: absolute`
- JS
  - 



### 

offsetTop - scrollTop   getBoundingClientRect()

``` html
<body>
    <div class="blank">
		// 
    </div>
    <div class="image" data-url="C:/Users/Messiah/Pictures/image.png">
		// 
    </div>
    <script type="text/javascript">
        let image = document.querySelector('.image')

        window.onscroll = throttle(() => {
            // offsetTop - scrollTop
            if (image.offsetTop - document.documentElement.scrollTop <    document.documentElement.clientHeight)
            {
                let url = image.dataset.url
                image.style.backgroundImage = `url(${url})`
            }

            // getBoundingClientRect
            if (image.getBoundingClientRect().top <       document.documentElement.clientHeight) {
                    let url = image.dataset.url
                    image.style.backgroundImage = `url(${url})`
                }
        }, 200)

		// 
        function throttle (fn, time) {
            let canRun = true
            return function () {
                if (!canRun) return false
                canRun = false
                setTimeout(() => {
                    fn()
                    canRun = true
                }, time)
            }
        }

    </script>
</body>

```

![https://zhuanlan.zhihu.com/p/55311726](https://pic1.zhimg.com/80/v2-af1ab0c5f34e468e8647135c1f9f51e4_hd.jpg)

offsetParent: positionstatic, offsetParentbody

image.offsetTopimageimageoffsetParentbody



``` html
    <body>
        <div class="outer">
            <div class="blank">

            </div>
            <div class="image">

            </div>
        </div>

    </body>
```

outerouter

``` css
.outer {
    position: relative;
}
```

image.offsetParentouter

``` javascript
image.offsetTop - outer.scrollTop < outer.clientHeight
```



**IntersectionObserver**

``` javascript
// IntersectionObserver
let io = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
        if (!entry.isIntersecting) return
        else {
            let el = entry.target
            el.style.backgroundImage = `url(${el.dataset.url})`
            io.unobserve(el)
        }

    })
})
io.observe(document.querySelector(".image"))
// <div class="image" data-url="https://xxx.com/1.jpg" ></div>
```

APIInfinity Scroll







### setTimeout/setIntervalrequestAnimationFrame

#### setTimeout/setInterval

`setTimeout(fn, n)`nfnn

`setTimeout(fn, 0)` 0ms4 ms

: 60HZ16.6mssetTimeout

#### requestAnimationFrame

``` javascript
function myAnimation() {
    // do something
    requestAnimationFrame(myAnimation)
}

requestAnimationFrame(myAnimation)
```

****