---
sidebar_position: 10
title: 
---

## 

- 

* 
* 

- 

* , 
* , } return 
* : 
* : 
* 
* 
* 

- 

* 
* 
* :,
* 
* : 


### static 

- ****

* ,,
* 

```c showLineNumbers
#include <stdio.h>
void test();
int main()
{
    test();
    test();
    test();

    return 0;
}
void test(){
    static int num = 0; // 
    num++;
    // static 1 1 1
    // static 1 2 3
    printf("num = %i\n", num);
}
```

- ****
- 

* :
* :,

- , 
- , ,  static

```c showLineNumbers
// A
int num; // Bnum
void test(){
    printf("ds.c num = %i\n", num);
}
```

```c showLineNumbers
// B
#include <stdio.h>
#include "ds.h"

int num; // Anum
int main()
{
    num = 666;
    test(); // test666
    return 0;
}
```

```c showLineNumbers
// A
static int num; // Bnum
void test(){
    printf("ds.c num = %i\n", num);
}
```

```c showLineNumbers
// B
#include <stdio.h>
#include "ds.h"

int num; // Anum
int main()
{
    num = 666;
    test(); // test0
    return 0;
}
```

### extern 

- 

* extern 
* extern , , 
* , , 

```c showLineNumbers
#include <stdio.h>

int main()
{
    extern int num;
    num = 998; // , 
    int num; // 
    printf("num = %i\n", num);
    return 0;
}
```

- 

* , , 

```c showLineNumbers
#include <stdio.h>

int main()
{
    extern int num; // num
    num = 998; // 
    printf("num = %i\n", num);
    return 0;
}
int num; // , 
```

### static  extern 

- :
- :
- 

- **static **
- 

```c showLineNumbers
static int sum(int num1,int num2);
```

- 

```c showLineNumbers
static int sum(int num1,int num2)
{
  return num1 + num2;
}
```

- **extern **

* 

```c showLineNumbers
extern int sum(int num1,int num2);
```

- 

```c showLineNumbers
extern int sum(int num1,int num2)
{
  return num1 + num2;
}
```

> - :
> - ,  extern 
> -  static  extern,  static  extern, 

### auto 

- “” `static` “” C  `auto`
- 

```c showLineNumbers
#include <stdio.h>

void demo_auto(void) {
    auto int a = 1;   //  int a = 1;
    int b = 2;        //  auto
    printf("%d %d\n", a, b);
}

void counter_auto(void) {
    auto int c = 0;   //  1
    c++;
    printf("%d\n", c);
}

void counter_static(void) {
    static int c = 0; // 1, 2, 3...
    c++;
    printf("%d\n", c);
}
```

### register

- “” CPU 
-  `register`  `&var`
- 

```c showLineNumbers
#include <stdio.h>

void sum_n(int n) {
    register int i; // 
    int s = 0;
    for (i = 0; i < n; i++) {
        s += i;
    }
    printf("%d\n", s);
    // int *p = &i; //  register 
}
```
{/* 
## 

- const: 
- volatile: 
- restrict: C99 */}


## 

## 

-  office
-  wps, office
- / ###
  
  ![](https://images.weserv.nl/?url=https://img-blog.csdnimg.cn/img_convert/5d2e966e95f1518585804e57779e7fe6.png)


## (Stack)

-  auto  
- 
- 

*   

```c showLineNumbers
int ages[10240*10240]; // , 
```

```c showLineNumbers
#include <stdio.h>

int main()
{
    // , 
    int a = 10;
    int b = 20;
    printf("&a = %p\n", &a); // &a = 0060FEAC
    printf("&b = %p\n", &b); // &b = 0060FEA8

    return 0;
}
```


## (Heap)

- 
- 

```c showLineNumbers
int *p = (int *)malloc(10240 * 1024); // 
```

```c showLineNumbers
#include <stdio.h>
#include <stdlib.h>

int main()
{
    // , 
    int *p1 = malloc(4);
    *p1 = 10;
    int *p2 = malloc(4);
    *p2 = 20;

    printf("p1 = %p\n", p1); //  p1 = 00762F48
    printf("p2 = %p\n", p2); // p2 = 00762F58

    return 0;
}
```

## malloc 

|            | void \* malloc(size_t \_Size);                         |
| ------------------ | ------------------------------------------------------ |
|            | stdlib.h                                               |
|            | ,          |
|  | memset                                     |
|      |                                                        |
|                | size_t \_size                        |
|              | void \*   NULL |

```c showLineNumbers
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main()
{
    /*
     * malloc
     * : 
     * : void *
     */
    int *p = (int *)malloc(sizeof(int));
    printf("p = %i\n", *p); // 
    /*
     * : 
     * : 
     * : 
     */
    memset(p, 0, sizeof(int)); // 
    printf("p = %i\n", *p); // 0
    return 0;
}
```

## free 

- :  malloc ,  malloc  free 

|        | void free(void \*p);        |
| -------------- | --------------------------- |
|        | stdlib.h                    |
|        |             |
|  |                             |
|            | void\* p  |
|          | void                  |

```c showLineNumbers
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main()
{
    // 1.4
    int *p = (int *)malloc(sizeof(int));
    // 2.40
    memset(p, 0, sizeof(int));
    // 3.
    free(p);
    return 0;
}
```

## calloc 

|        | void \*calloc(size_t nmemb, size_t size);              |
| -------------- | ------------------------------------------------------ |
|        | stdlib.h                                               |
|        |            |
|  |                                                        |
|            | size_t nmemb                           |
|            | size_t size                            |
|          | void \*   NULL |

```c showLineNumbers
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main()
{
    /*
    // 1.34
    int *p = (int *)malloc(sizeof(int) * 3);
    // 2.3
    p[0] = 1;
    p[1] = 3;
    p[2] = 5;
    printf("p[0] = %i\n", p[0]);
    printf("p[1] = %i\n", p[1]);
    printf("p[2] = %i\n", p[2]);
    // 3.
    free(p);
    */

    // 1.34
    int *p = calloc(3, sizeof(int));
    // 2.3
    p[0] = 1;
    p[1] = 3;
    p[2] = 5;
    printf("p[0] = %i\n", p[0]);
    printf("p[1] = %i\n", p[1]);
    printf("p[2] = %i\n", p[2]);
    // 3.
    free(p);

    return 0;
}
```

## realloc 

|        | void *realloc(void *ptr, size_t size);                                                |
| -------------- | ------------------------------------------------------------------------------------- |
|        | stdlib.h                                                                              |
|        | ()          |
|  |                                                                                       |
|            | void \* ptr () ptr  malloc  calloc  |
|            | size_t size ()                                              |
|          | void\*   NULL                               |

- :
  -  ptr==NULL malloc
  -  ptr  

```c showLineNumbers
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main()
{
    // 1.4
    int *p = NULL;
    p = realloc(p, sizeof(int)); // malloc
    // 2.
    *p = 666;
    printf("*p = %i\n",  *p);
    // 3.
    free(p);

    return 0;
}
```

```c showLineNumbers
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main()
{
    // 1.4
    int *p = malloc(sizeof(int));
    printf("p = %p\n", p);
    // , 
    // , 
    p = realloc(p, sizeof(int) * 2);
    printf("p = %p\n", p);
    // 2.
    *p = 666;
    printf("*p = %i\n",  *p);
    // 3.
    free(p);

    return 0;
}
```